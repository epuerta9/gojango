version: v1
plugins:
  # Go
  - plugin: buf.build/protocolbuffers/go
    out: .
    opt: paths=source_relative
  # Connect-Go
  - plugin: buf.build/connectrpc/go
    out: .
    opt: paths=source_relative
  # TypeScript + Connect-ES
  - plugin: buf.build/protocolbuffers/es
    out: frontend/src/proto
    opt: 
      - target=ts
      - import_extension=none
  - plugin: buf.build/connectrpc/es
    out: frontend/src/proto
    opt:
      - target=ts
      - import_extension=none